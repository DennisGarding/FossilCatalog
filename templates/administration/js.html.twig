<script type="application/javascript" src="{{ asset('js/Translations/Translation.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/LoadingIndicator.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/SetLoading.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/FlashMessage.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/ClearSearchTerm.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/Tag/TagDelete.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/Tag/TagCreate.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/Tag/TagEdit.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/Tag/TagPage.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/Category/CategoryCreate.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/Category/CategoryDelete.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/Category/CategoryEdit.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/Category/CategoryPage.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/FossilFormField/FossilFormFieldForm.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/FossilFormField/FossilFormFieldPage.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/FossilFormField/FossilFormFieldDelete.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/Fossil/SystemSeriesStageSelect.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/Fossil/DeleteFossil.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/Fossil/FossilPage.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/MultiSelectField.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/Pagination.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/System/SystemEdit.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/System/SystemCreate.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/System/SystemDelete.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/System/SystemPage.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/Series/SeriesCreate.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/Series/SeriesDelete.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/Series/SeriesEdit.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/Series/SeriesPage.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/Stage/StageCreate.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/Stage/StageDelete.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/Stage/StageEdit.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/Stage/StagePage.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/Export/Export.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/Export/ExportPage.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/Import/Import.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/Import/ImportDelete.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Admin/Import/ImportPage.js') }}"></script>



{# Elements without new instance #}
<script type="application/javascript" src="{{ asset('js/Admin/Modal.js') }}"></script>
<script type="application/javascript" src="{{ asset('js/Base/Ajax.js') }}"></script>

<script type="application/javascript">
    document.addEventListener("DOMContentLoaded", function () {
        document.loadingIndicator = new LoadingIndicator();
        // Load translations
        new Ajax('{{ url('load_translations') }}')
            .setErrorCallback((response, status, error) => {
                new Modal(Modal.BUTTONS.OK_BUTTON, 'Error', 'Cannot load translations.<br>Error: ' + error).show();
            })
            .setSuccessCallback((response) => {
                window.translations = new Translation(response.translations, response.defaultTranslations);

                // Initialize all classes
                new FlashMessage();
                new ClearSearchTerm();
                new TagPage();
                new CategoryPage();
                new FossilFormFieldPage();
                new FossilPage();
                new SystemPage();
                new SeriesPage();
                new StagePage();
                new Pagination();
                new ExportPage();
                new ImportPage();

                const multiSelectFields = document.querySelectorAll('select[data-multi-select-plugin="true"]');
                multiSelectFields.forEach(function (field) {
                    new MultiSelectField(field);
                });
            })
            .execute();

        // Enable tooltips everywhere
        const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]');
        const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl));
    });
</script>